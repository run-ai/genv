<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9BRBX45HVB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-9BRBX45HVB');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced Usage &mdash; Genv 0.11.0 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Enforcement" href="enforcement.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Genv
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Start Here</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/quickstart.html">Quick start</a></li>
</ul>
<p class="caption"><span class="caption-text">Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Advanced Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#multiple-terminals">Multiple Terminals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-sudo">Using <code class="code docutils literal notranslate"><span class="pre">sudo</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#genv-commands">Genv Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-commands">Other Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-containers">Running Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#over-subscription">Over-subscription</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#attach-with-over-subscription">Attach with Over-subscription</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#shell">Shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="#containers">Containers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#access-control">Access Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#python-sdk">Python SDK</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="#genv-cli">Genv CLI</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="enforcement.html">Enforcement</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-sdk.html">Python SDK</a></li>
</ul>
<p class="caption"><span class="caption-text">Remote Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../remote/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/enforcement.html">Enforcement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/monitoring.html">Monitoring</a></li>
</ul>
<p class="caption"><span class="caption-text">Container Toolkit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docker/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/usage.html">Usage</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/reference.html">Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Genv</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Advanced Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/advanced-usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="advanced-usage">
<h1>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#advanced-usage" id="id10">Advanced Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#multiple-terminals" id="id11">Multiple Terminals</a></p></li>
<li><p><a class="reference internal" href="#using-sudo" id="id12">Using <code class="code docutils literal notranslate"><span class="pre">sudo</span></code></a></p></li>
<li><p><a class="reference internal" href="#running-containers" id="id13">Running Containers</a></p></li>
<li><p><a class="reference internal" href="#over-subscription" id="id14">Over-subscription</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="multiple-terminals">
<h2>Multiple Terminals<a class="headerlink" href="#multiple-terminals" title="Permalink to this headline">¶</a></h2>
<p>When you activate an environment by running <code class="code docutils literal notranslate"><span class="pre">genv</span> <span class="pre">activate</span></code> in your terminal, a new environment gets created and registered.</p>
<p>Every activated terminal runs within an environment.</p>
<p>Genv supports running multiple terminals within the same environment.
This could be useful in many ways.
For example, when running an application in one terminal, and monitoring its GPU resources using <code class="code docutils literal notranslate"><span class="pre">nvidia-smi</span></code> in another terminal.</p>
<p>If you have an activated terminal and you want to open another terminal in the same environment, you need to first query the environment identifier using the command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="nv">$GENV_ENVIRONMENT_ID</span>
</pre></div>
</div>
<p>Then, open another terminal and pass the argument <code class="code docutils literal notranslate"><span class="pre">--id</span></code> to your <code class="code docutils literal notranslate"><span class="pre">genv</span> <span class="pre">activate</span></code> command.
For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>genv activate --id <span class="m">1667</span>
</pre></div>
</div>
<p>Your terminal should now be activated in the same environment.
You could verify it by running <code class="code docutils literal notranslate"><span class="pre">nvidia-smi</span></code> and seeing information about the GPUs of your environment.</p>
<p>Genv automatically configures the terminal with the environment configuration and attaches the terminal to the devices that are attached to the environment.</p>
</div>
<div class="section" id="using-sudo">
<span id="id1"></span><h2>Using <code class="code docutils literal notranslate"><span class="pre">sudo</span></code><a class="headerlink" href="#using-sudo" title="Permalink to this headline">¶</a></h2>
<div class="section" id="genv-commands">
<h3>Genv Commands<a class="headerlink" href="#genv-commands" title="Permalink to this headline">¶</a></h3>
<p>To run <code class="code docutils literal notranslate"><span class="pre">genv</span></code> commands as root using <code class="code docutils literal notranslate"><span class="pre">sudo</span></code>, use a command similar to the following:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo -E env <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span> genv ...
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Shell commands like <code class="code docutils literal notranslate"><span class="pre">genv</span> <span class="pre">activate</span></code> should not be executed this way because they will not be able to manipulate the shell.</p>
</div>
</div>
<div class="section" id="other-commands">
<h3>Other Commands<a class="headerlink" href="#other-commands" title="Permalink to this headline">¶</a></h3>
<p>Much of Genv functionality is based on environment variables.
You can see this by running the following command from an activated environment:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>env <span class="p">|</span> grep GENV_
</pre></div>
</div>
<p>By default, when using <code class="code docutils literal notranslate"><span class="pre">sudo</span></code>, environment variables are not preserved.
You can see this by running the same command from an activated environment:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo env <span class="p">|</span> grep GENV_
</pre></div>
</div>
<p>This means that all that would not work when using <code class="code docutils literal notranslate"><span class="pre">sudo</span></code> from an activated environment.</p>
<p>To fix this, pass <code class="code docutils literal notranslate"><span class="pre">-E</span></code> or <code class="code docutils literal notranslate"><span class="pre">--preserve-env</span></code> to the <code class="code docutils literal notranslate"><span class="pre">sudo</span></code> command.
For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo -E env <span class="p">|</span> grep GENV_
</pre></div>
</div>
<p>In addition to that, some Genv functionality is implemented as <a class="reference internal" href="../development/reference.html#shims"><span class="std std-ref">shims</span></a>.
When applications such as <code class="code docutils literal notranslate"><span class="pre">nvidia-smi</span></code> and <code class="code docutils literal notranslate"><span class="pre">docker</span></code> are being executed inside an activated environment, their respective shims get called instead.
Genv modifies the environment variable <code class="code docutils literal notranslate"><span class="pre">PATH</span></code> to do so.</p>
<p>You can see this by running the following command from an activated environment:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="nv">$PATH</span>
</pre></div>
</div>
<p>When using <code class="code docutils literal notranslate"><span class="pre">sudo</span></code>, the environment variable <code class="code docutils literal notranslate"><span class="pre">PATH</span></code> is not preserved even when passing <code class="code docutils literal notranslate"><span class="pre">-E</span></code> or <code class="code docutils literal notranslate"><span class="pre">--preserve-env</span></code>.
You can see this by running the same command from an activated environment:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo -E bash -c <span class="s1">&#39;echo &quot;$PATH&quot;&#39;</span>
</pre></div>
</div>
<p>This means that shims would not be executed.</p>
<p>To solve this, you can explicitly preserve <code class="code docutils literal notranslate"><span class="pre">PATH</span></code> by passing <code class="code docutils literal notranslate"><span class="pre">env</span> <span class="pre">&quot;PATH=$PATH&quot;</span></code> after the <code class="code docutils literal notranslate"><span class="pre">sudo</span></code> command.
For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo -E env <span class="s2">&quot;PATH=</span><span class="nv">$PATH</span><span class="s2">&quot;</span> bash -c <span class="s1">&#39;echo &quot;$PATH&quot;&#39;</span>
</pre></div>
</div>
<p>Alternatively, if you don’t want to preserve <code class="code docutils literal notranslate"><span class="pre">PATH</span></code>, you can just wrap the executed program with <code class="code docutils literal notranslate"><span class="pre">which</span></code>.
For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo -E <span class="sb">`</span>which nvidia-smi<span class="sb">`</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure that you also pass <code class="code docutils literal notranslate"><span class="pre">-E</span></code> to preserve all Genv environment variables</p>
</div>
</div>
</div>
<div class="section" id="running-containers">
<h2>Running Containers<a class="headerlink" href="#running-containers" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section talks about using <code class="code docutils literal notranslate"><span class="pre">docker</span></code> commands from an active environment and the <code class="code docutils literal notranslate"><span class="pre">docker</span></code> <a class="reference internal" href="../development/reference.html#shims"><span class="std std-ref">shim</span></a>.
If you are interested in running containers as environments and not <em>from</em> environments, check out the <a class="reference internal" href="../docker/overview.html"><span class="doc">Genv container runtime</span></a>.</p>
</div>
<p>When running containers using a <code class="code docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code> command from an active environment, the <code class="code docutils literal notranslate"><span class="pre">docker</span></code> <a class="reference internal" href="../development/reference.html#shims"><span class="std std-ref">shim</span></a> is executed.</p>
<p>It is responsible for making the container accessible to devices attached to the environment, as well as propagating some of Genv environment variables.</p>
<p>Thanks to these environment variables, processes running in such containers are marked as part of the active environment.
This is necessary when running <code class="code docutils literal notranslate"><span class="pre">nvidia-smi</span></code> in an active environment, as the <code class="code docutils literal notranslate"><span class="pre">nvidia-smi</span></code> <a class="reference internal" href="../development/reference.html#shims"><span class="std std-ref">shim</span></a> queries the environment variables of GPU consuming processes in order to identify the ones running in the same environment.</p>
<p>The problem is that containers can run as a different user than the shell they are executed in, and they typically run as root.</p>
<p>This means that permissions may be required in order to query processes running in containers, even when queried from the same shell that executed the container.
For example, when running <code class="code docutils literal notranslate"><span class="pre">nvidia-smi</span></code> from a non-root shell in an active environment, it will not be able to identify processes running in containers from the same environment if they run as root.</p>
<p>There are two ways to handle this issue.</p>
<p>The easiest way is to run <code class="code docutils literal notranslate"><span class="pre">nvidia-smi</span></code> with sufficient permissions <a class="reference internal" href="#using-sudo"><span class="std std-ref">using</span></a> <code class="code docutils literal notranslate"><span class="pre">sudo</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo -E env <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span> nvidia-smi
</pre></div>
</div>
<p>The other option is to run the container as non-root.
You can do that by passing <code class="code docutils literal notranslate"><span class="pre">--user</span> <span class="pre">$(id</span> <span class="pre">-u):$(id</span> <span class="pre">-g)</span></code> to the <code class="code docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code> command, or by editing the Dockerfile.</p>
</div>
<div class="section" id="over-subscription">
<h2>Over-subscription<a class="headerlink" href="#over-subscription" title="Permalink to this headline">¶</a></h2>
<p>Normally, the GPUs in the system are being provisioned to environments until they run out.</p>
<p>A GPU could be provisioned to a single environment, or can be shared between a few environments by <a class="reference internal" href="usage.html#configure-the-gpu-memory-capacity"><span class="std std-ref">configuring</span></a> the environment memory capacity before attaching devices.</p>
<div class="figure align-default" id="id8">
<img alt="../_images/provisioning.png" src="../_images/provisioning.png" />
<p class="caption"><span class="caption-text">Full- and shared-GPU provisioning with Genv</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>However, this could be wasteful as the provisioned GPUs can be unused some of the time, and in some cases, this amount of time can be significant.</p>
<p>For example, when writing GPU-consuming code (e.g. deep-learning model with PyTorch) using an IDE like Visual Studio Code, or PyCharm, the GPU resources are not being used in all the time that is spent on coding rather than running the application.</p>
<p>For this use case and similar ones, it is recommended to over-subscribe <a class="footnote-reference brackets" href="#id6" id="id2">1</a> the GPU by provisioning it to more than a single environment <em>without</em> setting a memory capacity.
Then, the entire GPU can be accessed by the different environments at different times, which will increase the resource utilization significantly.</p>
<div class="figure align-default" id="id9">
<img alt="../_images/over-provisioning.png" src="../_images/over-provisioning.png" />
<p class="caption"><span class="caption-text">Over-provisioning with Genv</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="attach-with-over-subscription">
<h3>Attach with Over-subscription<a class="headerlink" href="#attach-with-over-subscription" title="Permalink to this headline">¶</a></h3>
<p>By default, Genv does not over-subscribe GPUs.
This means that once a GPU is fully provisioned - either to a single environment or multiple ones - it cannot be attached anymore.</p>
<div class="section" id="shell">
<h4>Shell<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h4>
<p>When running environments in the shell, to attach a GPU with over-subscription you will need to pass the argument <code class="code docutils literal notranslate"><span class="pre">-o</span></code> or <code class="code docutils literal notranslate"><span class="pre">--over-subscribe</span></code> to the <code class="code docutils literal notranslate"><span class="pre">genv</span> <span class="pre">attach</span></code> command.
For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>genv attach --index <span class="m">0</span> -o
</pre></div>
</div>
<p>Another example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>genv attach --count <span class="m">2</span> --over-subscribe
</pre></div>
</div>
</div>
<div class="section" id="containers">
<h4>Containers<a class="headerlink" href="#containers" title="Permalink to this headline">¶</a></h4>
<p>When running containers using the <a class="reference internal" href="../docker/overview.html"><span class="doc">Genv container toolkit</span></a>, use the <code class="code docutils literal notranslate"><span class="pre">genv-docker</span></code> flag <code class="code docutils literal notranslate"><span class="pre">--over-subscribe</span></code>.
For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>genv-docker run -it --rm --gpus <span class="m">1</span> --gpu-memory 4g --over-subscribe ubuntu
</pre></div>
</div>
<p>If you don’t use <code class="code docutils literal notranslate"><span class="pre">genv-docker</span></code> but rather use the Genv container runtime directly, you can set the environment variable <code class="code docutils literal notranslate"><span class="pre">GENV_ALLOW_OVER_SUBSCRIPTION</span></code> to <code class="code docutils literal notranslate"><span class="pre">1</span></code>.
For more information check out the Genv container toolkit <a class="reference external" href="https://github.com/run-ai/genv/blob/main/genv-docker/README.md">README.md</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You should <a class="reference internal" href="../overview/installation.html"><span class="doc">install</span></a> Genv inside the container to use the <a class="reference internal" href="#access-control"><span class="std std-ref">access control</span></a> mechanism.
Installing the <a class="reference internal" href="../overview/installation.html#install-core"><span class="std std-ref">Core</span></a> core components of Genv is enough.</p>
</div>
</div>
</div>
<div class="section" id="access-control">
<span id="id3"></span><h3>Access Control<a class="headerlink" href="#access-control" title="Permalink to this headline">¶</a></h3>
<p>It is the responsibility of the users to access the over-subscribed GPU one at a time in order to avoid any OOM failures.</p>
<p>For this reason, Genv provides an access control mechanism, which can be used by the users to achieve the desired behavior.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All environments must cooperate and use the Genv access control mechanism.
There will be no effect if only some of the environments will and you will be exposed to OOM failures.</p>
</div>
<div class="section" id="python-sdk">
<h4>Python SDK<a class="headerlink" href="#python-sdk" title="Permalink to this headline">¶</a></h4>
<p>Import the <code class="code docutils literal notranslate"><span class="pre">genv</span></code> module and wrap your Python code with a call to <code class="code docutils literal notranslate"><span class="pre">genv.sdk.lock()</span></code>.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">genv</span>

<span class="k">with</span> <span class="n">genv</span><span class="o">.</span><span class="n">sdk</span><span class="o">.</span><span class="n">lock</span><span class="p">():</span>
   <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about the Python SDK see <a class="reference internal" href="python-sdk.html"><span class="doc">here</span></a>.</p>
</div>
</div>
<div class="section" id="id4">
<h4>Shell<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>Use the <code class="code docutils literal notranslate"><span class="pre">genv</span> <span class="pre">lock</span></code> command which works similarly to <code class="code docutils literal notranslate"><span class="pre">flock</span></code> <a class="footnote-reference brackets" href="#id7" id="id5">2</a>.
For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>genv lock python main.py
</pre></div>
</div>
<dl class="footnote brackets">
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/Thin_provisioning#Over-allocation">Over-allocation - Wikipedia</a></p>
</dd>
<dt class="label" id="id7"><span class="brackets"><a class="fn-backref" href="#id5">2</a></span></dt>
<dd><p><a class="reference external" href="https://man7.org/linux/man-pages/man1/flock.1.html">flock(1) - Linux manual page</a></p>
</dd>
</dl>
</div>
<div class="section" id="genv-cli">
<h4>Genv CLI<a class="headerlink" href="#genv-cli" title="Permalink to this headline">¶</a></h4>
<p>If you installed Genv from <a class="reference external" href="https://pypi.org/project/genv/">PyPI</a>, you have the Genv CLI installed as well.
You can test if you have it installed with the command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>genvctl --help
</pre></div>
</div>
<p>If you do have it installed, you can use it for access control with the subcommand <code class="code docutils literal notranslate"><span class="pre">lock</span></code>.
For example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>genvctl lock python main.py
</pre></div>
</div>
<p>Another example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>genvctl lock python -c <span class="s2">&quot;import time; print(&#39;hi&#39;); time.sleep(10); print(&#39;bye&#39;)&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage.html" class="btn btn-neutral float-left" title="Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="enforcement.html" class="btn btn-neutral float-right" title="Enforcement" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2023, Run.ai.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>